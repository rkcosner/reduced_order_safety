<launch>

  <arg name="server" default="localhost"/>
  <!-- Learning Parameters -->
  <arg name="A" default="10"/>
  <arg name="B" default="0"/>
  <arg name="C" default="0"/>
  <arg name="D" default="0"/>

  <include file="$(find red_ord_unitree)/launch/optitrack.launch"/>

  <!--Visulation-->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find red_ord_unitree)/rviz/prithvi_RAL.rviz"/>
  <node name="optitrack_viz" pkg="red_ord_unitree" type="optitrack_vis_node.py"/>

  <!--Generate Barriers-->
  <!-- <node name="barrier_generator" pkg="occupancy" type="generate_barriers_node.py"/> -->
  
  <!--Safe Controller-->
  <node pkg="red_ord_unitree" type="unitree_safe_vel.py" name="safe_velocity_node" output="screen">
      <param name="experiment_type" type="int" value="1"/>
      <param name="A" value="$(arg A)"/>
      <param name="B" value="$(arg B)"/>
      <param name="C" value="$(arg C)"/>
      <param name="D" value="$(arg D)"/>
  </node>

  <!--Unitree-ROS Bridge-->
  <node pkg="red_ord_unitree" type="unitree_bridge.py"  name="unitree_bridge_node" output="screen"/>

  <!--Record to ./bag/ -->
  <node name="record" pkg="rosbag" type="record" args="record -o $(find red_ord_unitree)/bags/indoor
        /cmd  /unitree_pose /unitree_vis_marker /duckie1_vis_marker /duckie2_vis_marker "/>

</launch>
